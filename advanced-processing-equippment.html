<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmTech Hub - Advanced Processing Equipment</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <style>
        :root {
            --primary: #EC4899; /* Pink-500 */
            --primary-dark: #DB2777; /* Pink-600 */
            --accent: #7C3AED; /* Purple-600 */
            --text: #1E293B; /* Slate-800 */
            --text-light: #475569; /* Slate-600 */
            --light-bg: rgba(255, 255, 255, 0.8);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: linear-gradient(90deg, #EC4899, #DDD6FE, #7DD3FC);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            color: var(--text);
            min-height: 100vh;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: shine 3s infinite alternate;
        }

        @keyframes shine {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        nav ul {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: var(--transition);
        }

        nav a:hover::after {
            width: 100%;
        }

        .hero {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeIn 1s ease-out;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            color: var(--text);
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
            color: var(--text);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        /* Rest of your CSS remains the same, just updating color values */
        .equipment-card h3 {
            color: var(--text);
        }
        
        .equipment-card p {
            color: var(--text-light);
        }
        
        .features-list li::before {
            color: var(--primary);
        }
        
        /* Update other color references as needed */

        /* Keep all other CSS the same as in your original */
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .equipment-card {
            padding: 1.5rem;
            transition: var(--transition);
            cursor: pointer;
        }

        .equipment-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .equipment-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .equipment-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .equipment-card p {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .features-list {
            list-style: none;
            margin-top: 1rem;
        }

        .features-list li {
            margin-bottom: 0.5rem;
            position: relative;
            padding-left: 1.5rem;
        }

        .features-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
        }

        /* Comparison Tool */
        .comparison-tool {
            margin-bottom: 4rem;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .comparison-select {
            margin-bottom: 1.5rem;
        }

        .comparison-select select {
            width: 100%;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
        }

        .comparison-card {
            padding: 1.5rem;
            min-height: 300px;
        }

        .specs-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .specs-table th, .specs-table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .specs-table th {
            color: var(--accent);
        }

        /* Recommendation Tool */
        .recommendation-tool {
            margin-bottom: 4rem;
        }

        .questionnaire {
            display: grid;
            gap: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            border: none;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }

        .result-card {
            padding: 1.5rem;
            margin-top: 2rem;
            display: none;
        }

        /* Processing Line Designer */
        .designer-tool {
            margin-bottom: 4rem;
        }

        .designer-container {
            display: flex;
            gap: 2rem;
        }

        .machine-palette {
            width: 250px;
            padding: 1.5rem;
        }

        .machine-item {
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: grab;
            transition: var(--transition);
        }

        .machine-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .design-area {
            flex: 1;
            min-height: 400px;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            border: 2px dashed rgba(255, 255, 255, 0.2);
        }

        .dropped-machine {
            position: absolute;
            padding: 1rem;
            background: rgba(76, 175, 80, 0.2);
            border-radius: 8px;
            border: 1px solid var(--primary);
            cursor: move;
            user-select: none;
        }

        /* Footer */
        footer {
            padding: 3rem 0;
            margin-top: 4rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .footer-col h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
        }

        .footer-col ul {
            list-style: none;
        }

        .footer-col li {
            margin-bottom: 0.8rem;
        }

        .footer-col a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-col a:hover {
            color: var(--accent);
        }

        .newsletter input {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fadeIn {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .delay-1 { animation-delay: 0.2s; }
        .delay-2 { animation-delay: 0.4s; }
        .delay-3 { animation-delay: 0.6s; }

        /* Responsive */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                gap: 1rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .comparison-container {
                grid-template-columns: 1fr;
            }
            
            .designer-container {
                flex-direction: column;
            }
            
            .machine-palette {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">FarmTech Hub</div>
            <nav>
                <ul>
                    <li><a href="index.php">Home</a></li>
                    <li><a href="index.php#about">About</a></li>
                    <li><a href="index.php#services">Services</a></li>
                    <li><a href="index.php#blog">Blog</a></li>
                </ul>
            </nav>
        </header>

        <section class="hero">
            <h1>Advanced Processing Equipment</h1>
            <p>Discover cutting-edge machinery and technologies to enhance your processing efficiency, reduce waste, and improve product quality. Our curated selection includes equipment reviews, vendor comparisons, and technology adoption guides.</p>
        </section>

        <section class="equipment-section">
            <h2 class="section-title">Featured Equipment</h2>
            <div class="equipment-grid">
                <div class="glass-panel equipment-card animate-fadeIn">
                    <div class="equipment-icon">
                        <i class="fas fa-sort-amount-up"></i>
                    </div>
                    <h3>Sorting Machines</h3>
                    <p>Automated sorting solutions for quality control and efficiency</p>
                    <ul class="features-list">
                        <li>AI-powered quality detection</li>
                        <li>High-speed processing</li>
                        <li>Customizable sorting criteria</li>
                    </ul>
                </div>

                <div class="glass-panel equipment-card animate-fadeIn delay-1">
                    <div class="equipment-icon">
                        <i class="fas fa-snowflake"></i>
                    </div>
                    <h3>Preservation Tech</h3>
                    <p>Advanced systems to extend shelf life and maintain quality</p>
                    <ul class="features-list">
                        <li>Controlled atmosphere storage</li>
                        <li>Smart temperature monitoring</li>
                        <li>Energy-efficient solutions</li>
                    </ul>
                </div>

                <div class="glass-panel equipment-card animate-fadeIn delay-2">
                    <div class="equipment-icon">
                        <i class="fas fa-box-open"></i>
                    </div>
                    <h3>Packaging Systems</h3>
                    <p>Innovative packaging for protection and presentation</p>
                    <ul class="features-list">
                        <li>Automated filling and sealing</li>
                        <li>Sustainable materials</li>
                        <li>Custom branding options</li>
                    </ul>
                </div>

                <div class="glass-panel equipment-card animate-fadeIn delay-3">
                    <div class="equipment-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Quality Scanners</h3>
                    <p>Precision tools for quality assessment and grading</p>
                    <ul class="features-list">
                        <li>Non-destructive testing</li>
                        <li>Real-time analytics</li>
                        <li>Multi-spectral imaging</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="comparison-tool glass-panel animate-fadeIn">
            <h2 class="section-title">Farm Equipment Comparator</h2>
            <p>Compare different equipment types side-by-side to make informed decisions</p>
            
            <div class="comparison-container">
                <div>
                    <div class="comparison-select">
                        <select id="equipment1" class="form-control">
                            <option value="">Select Equipment Type</option>
                            <option value="sorting">Sorting Machines</option>
                            <option value="preservation">Preservation Tech</option>
                            <option value="packaging">Packaging Systems</option>
                            <option value="scanner">Quality Scanners</option>
                        </select>
                    </div>
                    <div id="comparisonCard1" class="glass-panel comparison-card">
                        <p>Select equipment to compare</p>
                    </div>
                </div>
                
                <div>
                    <div class="comparison-select">
                        <select id="equipment2" class="form-control">
                            <option value="">Select Equipment Type</option>
                            <option value="sorting">Sorting Machines</option>
                            <option value="preservation">Preservation Tech</option>
                            <option value="packaging">Packaging Systems</option>
                            <option value="scanner">Quality Scanners</option>
                        </select>
                    </div>
                    <div id="comparisonCard2" class="glass-panel comparison-card">
                        <p>Select equipment to compare</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="recommendation-tool glass-panel animate-fadeIn delay-1">
            <h2 class="section-title">Smart Equipment Recommendation Tool</h2>
            <p>Answer a few questions to get personalized equipment recommendations</p>
            
            <div class="questionnaire">
                <div class="form-group">
                    <label for="farmSize">Farm Size (acres)</label>
                    <select id="farmSize" class="form-control">
                        <option value="small">Small (1-10 acres)</option>
                        <option value="medium">Medium (10-50 acres)</option>
                        <option value="large">Large (50+ acres)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="productType">Primary Product Type</label>
                    <select id="productType" class="form-control">
                        <option value="vegetables">Vegetables</option>
                        <option value="fruits">Fruits</option>
                        <option value="grains">Grains</option>
                        <option value="dairy">Dairy</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="budget">Budget Range</label>
                    <select id="budget" class="form-control">
                        <option value="low">Low ($1,000-$5,000)</option>
                        <option value="medium">Medium ($5,000-$20,000)</option>
                        <option value="high">High ($20,000+)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="processingNeeds">Primary Processing Needs</label>
                    <select id="processingNeeds" class="form-control">
                        <option value="sorting">Sorting/Grading</option>
                        <option value="preservation">Preservation</option>
                        <option value="packaging">Packaging</option>
                        <option value="quality">Quality Control</option>
                    </select>
                </div>
                
                <button id="getRecommendation" class="btn">Get Recommendation</button>
            </div>
            
            <div id="recommendationResult" class="glass-panel result-card">
                <h3>Recommended Equipment</h3>
                <div id="recommendationContent"></div>
            </div>
        </section>

        <section class="designer-tool glass-panel animate-fadeIn delay-2">
            <h2 class="section-title">Processing Line Designer</h2>
            <p>Drag and drop machines to design your ideal processing line</p>
            
            <div class="designer-container">
                <div class="glass-panel machine-palette">
                    <h3>Available Machines</h3>
                    <div class="machine-item" data-machine="sorting">
                        <i class="fas fa-sort-amount-up"></i> Sorting Machine
                    </div>
                    <div class="machine-item" data-machine="preservation">
                        <i class="fas fa-snowflake"></i> Preservation Unit
                    </div>
                    <div class="machine-item" data-machine="packaging">
                        <i class="fas fa-box-open"></i> Packaging System
                    </div>
                    <div class="machine-item" data-machine="scanner">
                        <i class="fas fa-search"></i> Quality Scanner
                    </div>
                    <div class="machine-item" data-machine="conveyor">
                        <i class="fas fa-arrows-alt-h"></i> Conveyor Belt
                    </div>
                </div>
                
                <div id="designArea" class="design-area">
                    <p>Drag machines here to design your processing line</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 1.5rem;">
                <button id="saveDesign" class="btn">Save Design</button>
                <button id="resetDesign" class="btn" style="background: rgba(255, 255, 255, 0.1); margin-left: 1rem;">Reset</button>
            </div>
        </section>

        <footer>
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>FarmTech Hub</h3>
                    <p>Connecting the agricultural ecosystem through technology and innovation.</p>
                </div>
                
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.php">Home</a></li>
                        <li><a href="index.php#about">About</a></li>
                        <li><a href="index.php#services">Services</a></li>
                        <li><a href="index.php#blog">Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Contact</h3>
                    <ul>
                        <li>info@farmtechhub.com</li>
                        <li>+1 (555) 123-4567</li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Newsletter</h3>
                    <div class="newsletter">
                        <input type="email" placeholder="Your email">
                        <button class="btn">Subscribe</button>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Equipment data
        const equipmentData = {
            sorting: {
                name: "Sorting Machines",
                vendors: [
                    { name: "AgriSort Pro", rating: 4.8, price: "$12,500" },
                    { name: "FarmGrade X", rating: 4.5, price: "$8,200" }
                ],
                specs: {
                    "Capacity": "5-10 tons/hour",
                    "Power": "3.5 kW",
                    "Accuracy": "98%",
                    "Warranty": "2 years"
                },
                tips: "Best for medium to large farms with high-volume sorting needs."
            },
            preservation: {
                name: "Preservation Tech",
                vendors: [
                    { name: "FreshKeep System", rating: 4.7, price: "$18,000" },
                    { name: "EcoStore Unit", rating: 4.3, price: "$9,500" }
                ],
                specs: {
                    "Capacity": "Up to 20 tons",
                    "Temperature Range": "-5°C to 15°C",
                    "Energy Efficiency": "A++",
                    "Warranty": "3 years"
                },
                tips: "Ideal for perishable products requiring precise climate control."
            },
            packaging: {
                name: "Packaging Systems",
                vendors: [
                    { name: "PackMaster 3000", rating: 4.6, price: "$22,000" },
                    { name: "QuickPack Pro", rating: 4.2, price: "$14,500" }
                ],
                specs: {
                    "Speed": "60 packages/min",
                    "Materials": "Plastic, Paper, Biodegradable",
                    "Customization": "Logo printing available",
                    "Warranty": "2 years"
                },
                tips: "Choose based on your packaging volume and material preferences."
            },
            scanner: {
                name: "Quality Scanners",
                vendors: [
                    { name: "QualiScan AI", rating: 4.9, price: "$15,800" },
                    { name: "FarmEye Pro", rating: 4.4, price: "$10,200" }
                ],
                specs: {
                    "Technology": "Multi-spectral imaging",
                    "Detection": "Bruises, Rot, Foreign objects",
                    "Speed": "500 items/min",
                    "Warranty": "2 years"
                },
                tips: "Essential for premium quality produce targeting high-end markets."
            }
        };

        // Comparison Tool Functionality
        document.getElementById('equipment1').addEventListener('change', function() {
            updateComparisonCard('comparisonCard1', this.value);
        });

        document.getElementById('equipment2').addEventListener('change', function() {
            updateComparisonCard('comparisonCard2', this.value);
        });

        function updateComparisonCard(cardId, equipmentType) {
            if (!equipmentType) return;
            
            const card = document.getElementById(cardId);
            const data = equipmentData[equipmentType];
            
            let vendorsHtml = data.vendors.map(v => `
                <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.1)">
                    <strong>${v.name}</strong><br>
                    Rating: ${'★'.repeat(Math.floor(v.rating))}${'☆'.repeat(5-Math.floor(v.rating))} (${v.rating})<br>
                    Price: ${v.price}
                </div>
            `).join('');
            
            let specsHtml = Object.entries(data.specs).map(([key, value]) => `
                <tr>
                    <td>${key}</td>
                    <td>${value}</td>
                </tr>
            `).join('');
            
            card.innerHTML = `
                <h3>${data.name}</h3>
                <h4 style="margin: 1rem 0 0.5rem; color: var(--accent)">Top Vendors</h4>
                ${vendorsHtml}
                <h4 style="margin: 1rem 0 0.5rem; color: var(--accent)">Specifications</h4>
                <table class="specs-table">
                    ${specsHtml}
                </table>
                <h4 style="margin: 1rem 0 0.5rem; color: var(--accent)">Usage Tips</h4>
                <p>${data.tips}</p>
            `;
        }

        // Recommendation Tool Functionality
        document.getElementById('getRecommendation').addEventListener('click', function() {
            const farmSize = document.getElementById('farmSize').value;
            const productType = document.getElementById('productType').value;
            const budget = document.getElementById('budget').value;
            const processingNeeds = document.getElementById('processingNeeds').value;
            
            // Simple recommendation logic (would be more complex in real app)
            let recommended = [];
            
            if (processingNeeds === 'sorting') {
                recommended.push(equipmentData.sorting);
            } else if (processingNeeds === 'preservation') {
                recommended.push(equipmentData.preservation);
            } else if (processingNeeds === 'packaging') {
                recommended.push(equipmentData.packaging);
            } else {
                recommended.push(equipmentData.scanner);
            }
            
            // Add secondary recommendation based on budget
            if (budget === 'high') {
                if (processingNeeds !== 'sorting') recommended.push(equipmentData.sorting);
            } else if (farmSize === 'large') {
                recommended.push(equipmentData.preservation);
            }
            
            // Display results
            const resultContent = document.getElementById('recommendationContent');
            resultContent.innerHTML = recommended.map(equip => `
                <div style="margin-bottom: 2rem; padding: 1rem; background: rgba(255,255,255,0.05); border-radius: 8px;">
                    <h4 style="color: var(--accent); margin-bottom: 0.5rem">${equip.name}</h4>
                    <p>${equip.tips}</p>
                    <div style="margin-top: 0.5rem">
                        <strong>Top Vendor:</strong> ${equip.vendors[0].name} (${equip.vendors[0].price})<br>
                        <strong>Rating:</strong> ${equip.vendors[0].rating}/5
                    </div>
                </div>
            `).join('');
            
            document.getElementById('recommendationResult').style.display = 'block';
        });

        // Processing Line Designer Functionality
        interact('.machine-item').draggable({
            inertia: true,
            modifiers: [
                interact.modifiers.restrictRect({
                    restriction: 'body',
                    endOnly: true
                })
            ],
            autoScroll: true,
            listeners: {
                start(event) {
                    event.target.classList.add('dragging');
                },
                move(event) {
                    const target = event.target;
                    const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
                    const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
                    
                    target.style.transform = `translate(${x}px, ${y}px)`;
                    target.setAttribute('data-x', x);
                    target.setAttribute('data-y', y);
                },
                end(event) {
                    event.target.classList.remove('dragging');
                    
                    // Check if dropped in design area
                    const designArea = document.getElementById('designArea');
                    const rect = designArea.getBoundingClientRect();
                    const x = parseFloat(event.target.getAttribute('data-x')) || 0;
                    const y = parseFloat(event.target.getAttribute('data-y')) || 0;
                    
                    if (x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom) {
                        const machineType = event.target.getAttribute('data-machine');
                        addMachineToDesignArea(machineType, x - rect.left, y - rect.top);
                    }
                    
                    // Reset original element
                    event.target.style.transform = 'none';
                    event.target.removeAttribute('data-x');
                    event.target.removeAttribute('data-y');
                }
            }
        });

        function addMachineToDesignArea(machineType, x, y) {
            const designArea = document.getElementById('designArea');
            const machines = {
                sorting: { icon: 'fa-sort-amount-up', name: 'Sorting Machine', color: '#4CAF50' },
                preservation: { icon: 'fa-snowflake', name: 'Preservation Unit', color: '#2196F3' },
                packaging: { icon: 'fa-box-open', name: 'Packaging System', color: '#FF9800' },
                scanner: { icon: 'fa-search', name: 'Quality Scanner', color: '#9C27B0' },
                conveyor: { icon: 'fa-arrows-alt-h', name: 'Conveyor Belt', color: '#607D8B' }
            };
            
            const machine = machines[machineType];
            const machineId = 'machine-' + Date.now();
            
            const machineEl = document.createElement('div');
            machineEl.className = 'dropped-machine';
            machineEl.id = machineId;
            machineEl.innerHTML = `
                <i class="fas ${machine.icon}"></i> ${machine.name}
            `;
            machineEl.style.left = x + 'px';
            machineEl.style.top = y + 'px';
            machineEl.style.borderColor = machine.color;
            machineEl.setAttribute('data-machine', machineType);
            
            designArea.appendChild(machineEl);
            
            // Make the new machine draggable
            interact('#' + machineId).draggable({
                inertia: true,
                modifiers: [
                    interact.modifiers.restrict({
                        restriction: 'parent',
                        endOnly: true
                    })
                ],
                autoScroll: true,
                listeners: {
                    move(event) {
                        const target = event.target;
                        const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
                        const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
                        
                        target.style.left = x + 'px';
                        target.style.top = y + 'px';
                        target.setAttribute('data-x', x);
                        target.setAttribute('data-y', y);
                    }
                }
            });
        }

        // Save and reset design
        document.getElementById('saveDesign').addEventListener('click', function() {
            alert('Design saved! (In a real app, this would save to your account)');
        });

        document.getElementById('resetDesign').addEventListener('click', function() {
            const designArea = document.getElementById('designArea');
            designArea.querySelectorAll('.dropped-machine').forEach(el => el.remove());
        });

        // Animate elements on scroll
        const animateOnScroll = () => {
            const elements = document.querySelectorAll('.animate-fadeIn');
            elements.forEach(el => {
                const elTop = el.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elTop < windowHeight - 100) {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }
            });
        };

        window.addEventListener('scroll', animateOnScroll);
        animateOnScroll(); // Run once on load
    </script>
</body>
</html>